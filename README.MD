#### Commander Sample

  

    ```
    npm start -- type -u https://examples.com/ -o ./data/type
    ```


---

**FNBManager** - Точка входа.

В этом модуле создаётся экземпляр **OutHandler** после чего передаётся в остальные классы.
В этом модуле принимаются аргументы из **ArgsParser**

Также здесь запускается создание объектов для **FabricParser** 


Это модуль с основным классом.

**ArgsParser** - функционал этого класса, это получение аргументов их распределение. 

То есть, пользователь вводит `text --url https://example.com/ --out ./data/sample.txt`
А, этот класс передаёт это так: 
- `const type = 'text'`
- `const url = https://example.com/`
- `const dirOut = './data/'`
- `const fileName = 'sample.txt'`

Он отдаёт значение в **FNBManager**, тот передаёт их классу **FabricParser**, через метод **Create**. Который создаст экземпляр класса парсинга. 


Было решено сделать так, чтобы класс передавал спарсиные аргументы как объект. 

**OutHandler**, класс отвечающий за сохранение данных полученных парсером по заданному путь (задается аргументом передаётся от **FBM** менеджера - Основной класс с точкой входа).

Данный класс будет первым для создания, так как легко описать и протестировать

Псевдо структуру:
- Атрибут: 
	-  dirOut - полный путь для вывода
-  Методы:
	- EnsureDir() - Проверка существование директории и создание если её нет
	- GeneratiName()
	- WriteFile(filename, content) - Запись в файл

Теперь в методе WriteFile, создаётся константа, которая хранит полный путь для создания файла.

Что нужно добавить? Обработку двух файлов с одним именем, обработку скачивания нескольких файлов - фото, и сохранение ключевых слов для url.

**FabricParser** - создаёт экземпляр класса в зависимости от значение **type** в объект **config**

Внутри просто **switch**, в **case** которого лежит простой **return new ClassName**

**BasePasrser** - это родительский класс, в котором общий метод **FetchHtml**, он скачивает его по **config.url** 

Также в это классе указан **Save** метод, который вызывает метод **WriteFile** из **OutHandler**. А он передаётся из **FNBManager**, как экземпляр - объект.

**TextParser** - это класс, который наследуется от **BaseParser**. Он наследует методы **Parser**, **Save** и **FetchHtml**.

**FetchHtml** - не изменяется
**Save** - меняется только вызов
**Parser** - полностью новый, в **BaseParser** только объявление

**ImgParser** - тоже класс наследуемый от **BaseParser**.

Его метод **Parser** сильно отличается. В нём мы получаем **url** из атрибута **src**, сохраняем в массив, позднее перебираем его в цикле **for ... of** и скачиваем каждую картинку вызывая **Save** повторно 